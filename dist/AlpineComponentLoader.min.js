function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function n(e){return function(){var n=this,r=arguments;return new Promise(function(o,i){var a=e.apply(n,r);function s(e){t(a,o,i,s,l,"next",e)}function l(e){t(a,o,i,s,l,"throw",e)}s(void 0)})}}function r(e,t,n){return t=c(t),function(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e,_()?Reflect.construct(t,n||[],c(e).constructor):t.apply(e,n))}function o(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function i(e,t,n){return(i=_()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&f(o,n.prototype),o}).apply(null,arguments)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function d(e,t){return null!=t&&"u">typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}function p(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,s=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(s)throw r}}return i}}(e,t)||v(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||v(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){return e&&"u">typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function v(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,n)}}function g(e){var t="function"==typeof Map?new Map:void 0;return(g=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return i(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,e)})(e)}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_=function(){return!!e})()}function w(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype),s=Object.defineProperty;return s(a,"next",{value:l(0)}),s(a,"throw",{value:l(1)}),s(a,"return",{value:l(2)}),"function"==typeof Symbol&&s(a,Symbol.iterator,{value:function(){return this}}),a;function l(s){return function(l){var c=[s,l];if(n)throw TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}/**
 * @license AlpineComponentLoader
 *
 * Copyright (c) LTDev LLC
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C=new Map,A=new Map,E={String:String,Number:Number,Boolean:Boolean,Array:Array,Object:Object},S={position:"fixed",zIndex:1e4,background:"#1f2937",color:"#f3f4f6",padding:"8px 12px",borderRadius:"6px",fontSize:"11px",fontFamily:"monospace",pointerEvents:"none",border:"1px solid #374151",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",maxWidth:"300px",whiteSpace:"pre-wrap",display:"none"},k={position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:9998,overflow:"hidden"},x={position:"absolute",border:"3px solid #22c55e",boxSizing:"border-box",transition:"all 0.1s ease-out"},O=function(e){return Object.entries(e).map(function(e){var t=b(e,2),n=t[0],r=t[1];return"".concat(n.replace(/[A-Z]/g,function(e){return"-".concat(e.toLowerCase())}),":").concat(r)}).join(";")},T=/*#__PURE__*/function(){function e(){o(this,e)}return s(e,null,[{key:"start",value:function(){return n(function(){return w(this,function(t){switch(t.label){case 0:if(e._started)return[2];return e._started=!0,[4,e.pruneCaches()];case 1:return t.sent(),e.registerComponent(),e.registerDynamicLoader(),e.registerTemplates(),[2]}})})()}},{key:"pruneCaches",value:function(){return n(function(){var t,n,r,o=arguments;return w(this,function(i){switch(i.label){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:e.globalConfig._templateCachePrefix,n=o.length>1&&void 0!==o[1]?o[1]:e.globalConfig._templateCacheKey,!("caches"in window))return[2];return r=Promise.all,[4,caches.keys()];case 1:return[4,r.apply(Promise,[i.sent().filter(function(e){return e.startsWith(t)}).filter(function(e){return e!==n}).map(function(e){return caches.delete(e)})])];case 2:return[2,i.sent()]}})}).apply(this,arguments)}},{key:"clearCache",value:function(){return n(function(){var t,n,r=arguments;return w(this,function(o){switch(o.label){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:e.globalConfig._templateCacheKey,!("caches"in window))return console.warn("[AlpineComponentLoader] Cache API not supported."),[2];return n=Promise.all,[4,caches.keys()];case 1:return[4,n.apply(Promise,[o.sent().filter(function(e){return e.startsWith(t)}).map(function(e){return caches.delete(e)})])];case 2:return[2,o.sent()]}})}).apply(this,arguments)}},{key:"config",value:function(t){Object.assign(e.globalConfig,t)}},{key:"registerComponent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.globalConfig.defaultComponentName;customElements.get(t)||customElements.define(t,$)}},{key:"registerDynamicLoader",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.globalConfig.defaultDynamicName;customElements.get(t)||customElements.define(t,j)}},{key:"registerTemplates",value:function(){document.querySelectorAll("template[acl-component]").forEach(function(t){var n,r=t.getAttribute("acl-component");if(r){try{n={attributes:Object.fromEntries(Object.entries(JSON.parse(t.getAttribute("acl-props")||"{}")).map(function(e){var t=b(e,2),n=t[0],r=t[1];return[n,(void 0===r?"undefined":y(r))==="object"&&r.type?p(h({},r),{type:E[r.type]||String}):E[r]||String]}))}}catch(e){console.warn("[AlpineComponentLoader] Invalid JSON in acl-props for <".concat(r,">"),e)}e.define(r,t,n||{})}})}},{key:"toggleDebug",value:function(){var t=this.globalConfig.debug=!this.globalConfig.debug;document.body.classList.toggle("acl-debug-active",t);var n=document.getElementById("acl-debug-tooltip");if(!n){(n=document.createElement("div")).id="acl-debug-tooltip",n.style.cssText=O(S);var r=document.createElement("strong");r.style.color="#4ade80";var o=document.createElement("div");o.style.margin="4px 0",o.style.borderBottom="1px solid #374151";var i=document.createElement("div"),a=document.createElement("pre");a.style.cssText="margin: 4px 0 0 0; opacity: 0.8;",n.append(r,o,i,a),n._nodes={title:r,status:i,props:a},document.body.appendChild(n)}var s=document.getElementById("acl-debug-overlays");s||((s=document.createElement("div")).id="acl-debug-overlays",s.style.cssText=O(k),document.body.appendChild(s));var l=0,c=0,u=null,d=function(e){l=e.clientX,c=e.clientY,u=(e.composedPath()||[]).find(function(e){return 1===e.nodeType&&e.hasAttribute("data-acl-component")})};if(t){document.addEventListener("mousemove",d,{passive:!0});var h=function(){if(!e.globalConfig.debug){s.replaceChildren(),n.style.display="none",document.removeEventListener("mousemove",d);return}var t=document.querySelectorAll("[data-acl-component]"),r=s.children,o=0;t.forEach(function(e){var t=e.getBoundingClientRect();if(0===t.width&&0===t.height){var n=e.shadowRoot?e.shadowRoot.children:e.children;if(n.length>0){var i=1/0,a=1/0,l=-1/0,c=-1/0,u=!1,d=!0,h=!1,p=void 0;try{for(var f,b=n[Symbol.iterator]();!(d=(f=b.next()).done);d=!0){var m=f.value.getBoundingClientRect();(m.width>0||m.height>0)&&(u=!0,i=Math.min(i,m.left),a=Math.min(a,m.top),l=Math.max(l,m.right),c=Math.max(c,m.bottom))}}catch(e){h=!0,p=e}finally{try{d||null==b.return||b.return()}finally{if(h)throw p}}u&&(t={left:i,top:a,width:l-i,height:c-a})}}if(t.width>0&&t.height>0&&t.top<window.innerHeight&&t.left<window.innerWidth&&t.top+t.height>0&&t.left+t.width>0){var y=r[o];y||((y=document.createElement("div")).style.cssText=O(x),s.appendChild(y)),y.style.transform="translate(".concat(t.left,"px, ").concat(t.top,"px)"),y.style.width="".concat(t.width,"px"),y.style.height="".concat(t.height,"px"),y.style.display="block",o++}});for(var i=o;i<r.length;i++)r[i].style.display="none";if(u){n.style.display="block",n._nodes.title.textContent="<".concat(u.getAttribute("data-acl-component"),">"),n._nodes.status.textContent=u._loading?"Loading...":"Ready",n._nodes.status.style.color=u._loading?"#fbbf24":"#4ade80",n._nodes.props.textContent=JSON.stringify(u.$props,null,2);var a=n.getBoundingClientRect(),p=window.innerWidth,f=window.innerHeight,b=l+15,m=c+15;b+a.width>p&&(b=l-a.width-15),m+a.height>f&&(m=c-a.height-15),b<0&&(b=15),m<0&&(m=15),n.style.left="".concat(b,"px"),n.style.top="".concat(m,"px")}else n.style.display="none";requestAnimationFrame(h)};requestAnimationFrame(h)}}},{key:"define",value:function(t,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=p(h({attributes:{},loading:"eager",hooks:{beforeFetch:function(e){return e},afterFetch:function(e){return e}}},e.globalConfig,a),{externalCss:m(e.globalConfig.externalCss||[]).concat(m(a.externalCss||[])),externalScripts:m(e.globalConfig.externalScripts||[]).concat(m(a.externalScripts||[])),sharedStyleSheets:m(e.globalConfig.sharedStyleSheets||[]).concat(m(a.sharedStyleSheets||[])),errorCss:h({},{display:"flex",flexDirection:"column",gap:"0.5rem",padding:"1rem",border:"1px solid #fca5a5",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"6px",fontFamily:"sans-serif",fontSize:"0.9rem"},e.globalConfig.errorCss||{},a.errorCss||{}),forwardEvents:m(e.globalConfig.forwardEvents||[]).concat(m(a.forwardEvents||[])),fallback:a.fallback||null,persist:a.persist||!1,persistKey:a.persistKey||null,persistDebounce:a.persistDebounce||250,bindStore:a.bindStore||null,dataSrc:a.dataSrc||null,fetchTimeout:a.fetchTimeout||3e4,fetchOptions:a.fetchOptions||{}}),c=m(new Set(m(Object.keys(l.attributes)).concat(["bind-store","data-src"]))),f=i;"string"==typeof i&&!i.startsWith("#")&&l.basePath&&(f=l.basePath+i);var v=/*#__PURE__*/function(i){function a(){o(this,a);var e=r(this,a),t=function(t,n){e.dispatchEvent(new CustomEvent(t,{bubbles:!0,composed:!0,detail:n}))};return e._initialized=!1,e._loading=!1,e._disconnectTimeout=null,e._fetchAbortController=null,e.$props=window.Alpine?window.Alpine.reactive(h({$data:null,$loading:!1,$error:null,$emit:t},l.attributes||{})):{data:null,loading:!1,error:null,$emit:t},e._root=l.shadow?e.attachShadow({mode:"open"}):e,e._observer=null,e._scopeId="scope-".concat(Math.random().toString(36).slice(2,9)),e._slotObserver=null,e}return u(a,i),s(a,[{key:"attributeChangedCallback",value:function(e,t,n){t!==n&&("data-src"===e?this._initialized&&this._fetchData(n):this._updateProp(e,n),this._initialized&&this._triggerHook("updated",{name:e,oldVal:t,newVal:n}))}},{key:"connectedCallback",value:function(){if(this.setAttribute("data-acl-component",this.tagName),this._disconnectTimeout){clearTimeout(this._disconnectTimeout),this._disconnectTimeout=null;return}if(this._initialized)return void this._triggerHook("activated");if(!this._loading){this._loading=!0,this._syncAllAttributes();var e=this.getAttribute("loading")||l.loading;"lazy"===e?this._initLazyObserver():"idle"===e?this._initIdleLoader():this._load()}}},{key:"disconnectedCallback",value:function(){var e=this;(this._slotObserver&&(this._slotObserver.disconnect(),this._slotObserver=null),this._isKeptAlive||this.hasAttribute("keep-alive"))?this._triggerHook("deactivated"):this._disconnectTimeout=setTimeout(function(){if(e.isConnected){e._disconnectTimeout=null;return}e._triggerHook("unmounted"),e._fetchAbortController&&e._fetchAbortController.abort(),e._observer&&e._observer.disconnect(),e._root&&window.Alpine&&e._initialized&&window.Alpine.destroyTree(e._root),e._initialized=!1,e._loading=!1,e._disconnectTimeout=null},250)}},{key:"_initLazyObserver",value:function(){var e=this,t=document.createElement("div");t.style.minHeight="1px",this._root.appendChild(t),this._observer=new IntersectionObserver(function(t){t[0].isIntersecting&&(e._load(),e._observer.disconnect(),e._observer=null)},{rootMargin:"100px"}),this._observer.observe(this)}},{key:"_initIdleLoader",value:function(){var e=this;"requestIdleCallback"in window?requestIdleCallback(function(){return e._load()},{timeout:2e3}):setTimeout(function(){return e._load()},200)}},{key:"_initSlotObserver",value:function(){var e=this;this._slotObserver||(this._slotObserver=new MutationObserver(function(t){return t.forEach(function(t){t.addedNodes.forEach(function(t){if((t.nodeType===Node.ELEMENT_NODE||t.nodeType===Node.TEXT_NODE)&&!(t.nodeType===Node.ELEMENT_NODE&&t.hasAttribute("data-acl-slot"))){var n=(t.nodeType===Node.ELEMENT_NODE?t.getAttribute("slot"):null)||"default",r=e._root.querySelector('div[data-acl-slot="'.concat(n,'"]'));r&&r.appendChild(t)}})})}),this._slotObserver.observe(this,{childList:!0}))}},{key:"_load",value:function(){return n(function(){var e,n,r,o,i,a,s,c;return w(this,function(u){switch(u.label){case 0:e=this,u.label=1;case 1:if(u.trys.push([1,5,,14]),this._initialized)return[2];return this._triggerHook("beforeMount"),[4,Promise.all([l.externalCss.length||l.externalScripts.length?this._loadExternalDependencies():Promise.resolve(),this._resolveContent(f),l.dataSrc||this.getAttribute("data-src")?this._fetchData(this.getAttribute("data-src")||l.dataSrc):Promise.resolve()])];case 2:return n=u.sent()[1],r=null,l.shadow||(r=this._captureLightSlots()),this._root.replaceChildren(),l.shadow&&l.externalCss.length&&l.externalCss.forEach(function(t){var n=document.createElement("link");n.rel="stylesheet",n.href=t,e._root.appendChild(n)}),[4,this._renderSafe(n,r)];case 3:return u.sent(),l.shadow&&l.forwardEvents.length>0&&this._setupEventForwarding(),l.shadow||this._initSlotObserver(),[4,this._initAlpine()];case 4:return u.sent(),this._initialized=!0,this._loading=!1,this._dispatch("mount"),this._triggerHook("mounted"),this._dispatch("loaded"),[3,14];case 5:if(o=u.sent(),console.error("[AlpineComponentLoader] <".concat(t,">"),o),this._loading=!1,!(i=this.getAttribute("fallback")||l.fallback))return[3,12];u.label=6;case 6:return u.trys.push([6,10,,11]),this._root.replaceChildren(),s=(a=this)._renderSafe,[4,this._resolveContent(i)];case 7:return[4,s.apply(a,[u.sent(),null])];case 8:return u.sent(),[4,this._initAlpine()];case 9:return u.sent(),this._initialized=!0,this._dispatch("loaded"),[2];case 10:return c=u.sent(),console.error("[AlpineComponentLoader] <".concat(t,"> Fallback Failed:"),c),this._renderError("Load Failed: ".concat(o.message,". (Fallback also failed)")),[3,11];case 11:return[3,13];case 12:this._renderError(o.message),u.label=13;case 13:return[3,14];case 14:return[2]}})}).call(this)}},{key:"_fetchData",value:function(t){return n(function(){var n,r,o,i,a,s,c,u,d,f,b,m,v,g,_;return w(this,function(w){switch(w.label){case 0:if(n=this,!t)return[2];this._fetchAbortController&&this._fetchAbortController.abort(),this._fetchAbortController=new AbortController,r=this._fetchAbortController.signal,this.$props.$loading=!0,this.$props.$error=null,o=setTimeout(function(){return n._fetchAbortController.abort("Timeout")},l.fetchTimeout),w.label=1;case 1:if(w.trys.push([1,11,12,13]),c=p(h({method:"GET",headers:{Accept:"application/json"}},(null==(i=e.globalConfig)?void 0:i.fetchOptions)||{},(null==l?void 0:l.fetchOptions)||{}),{signal:r}),"function"!=typeof(null==l||null==(a=l.hooks)?void 0:a.beforeFetch))return[3,3];return[4,l.hooks.beforeFetch(c)];case 2:(u=w.sent())&&(void 0===u?"undefined":y(u))==="object"&&(c=u),w.label=3;case 3:return[4,fetch(t,c)];case 4:if(d=w.sent(),clearTimeout(o),!d.ok)throw Error("API Error: ".concat(d.status," ").concat(d.statusText));if(!(f=d.headers.get("content-type"))||!f.includes("application/json"))throw Error('Invalid response. Expected JSON, got "'.concat(f,'"'));w.label=5;case 5:return w.trys.push([5,7,,8]),[4,d.json()];case 6:return b=w.sent(),[3,8];case 7:throw m=w.sent(),Error("Invalid JSON: ".concat(m.message));case 8:if("function"!=typeof(null==l||null==(s=l.hooks)?void 0:s.afterFetch))return[3,10];return[4,l.hooks.afterFetch(b)];case 9:(v=w.sent())&&(void 0===v?"undefined":y(v))==="object"&&(b=v),w.label=10;case 10:return r.aborted||(this.$props.$data=b),[3,13];case 11:if("AbortError"===(g=w.sent()).name||r.aborted)return"Timeout"===r.reason&&(this.$props.$error="Request timed out after ".concat(l.fetchTimeout,"ms"),this.$props.$data=null),[2];return console.error("[AlpineComponentLoader] Fetch failed for ".concat(t),g),this.$props.$error=g.message,this.$props.$data=null,[3,13];case 12:return clearTimeout(o),r.aborted&&"Timeout"!==r.reason||(this.$props.$loading=!1,(null==(_=this._fetchAbortController)?void 0:_.signal)===r&&(this._fetchAbortController=null)),[7];case 13:return[2]}})}).call(this)}},{key:"_triggerHook",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l.hooks&&"function"==typeof l.hooks[e]&&l.hooks[e].call(this,h({el:this,root:this._root,props:this.$props},t))}},{key:"_loadExternalDependencies",value:function(){return n(function(){var e;return w(this,function(t){switch(t.label){case 0:return e=[],l.externalCss.forEach(function(e){if(!document.querySelector('link[href="'.concat(e,'"]'))){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.head.appendChild(t)}}),l.externalScripts.forEach(function(t){if(!A.has(t)){var n=new Promise(function(e,n){if(document.querySelector('script[src="'.concat(t,'"]')))return void e();var r=document.createElement("script");r.src=t,r.async=!0,r.onload=function(){return e()},r.onerror=function(){return n(Error("Failed to load script: ".concat(t)))},document.head.appendChild(r)});A.set(t,n)}e.push(A.get(t))}),[4,Promise.all(e)];case 1:return t.sent(),[2]}})})()}},{key:"_captureLightSlots",value:function(){var e={default:[]};return Array.from(this.childNodes).forEach(function(t){if(t.nodeType===Node.ELEMENT_NODE&&t.hasAttribute("slot")){var n=t.getAttribute("slot");e[n]||(e[n]=[]),e[n].push(t)}else e.default.push(t)}),e}},{key:"_renderSafe",value:function(e,r){return n(function(){var n,o,i,a,s,c,u;return w(this,function(d){for(n=this,o="string"==typeof e?new DOMParser().parseFromString(e,"text/html").body:e.cloneNode(!0),l.stripStyles?o.querySelectorAll("style").forEach(function(e){return e.remove()}):(i=Array.from(o.querySelectorAll("style")),l.shadow&&l.useConstructibleStyles&&document.adoptedStyleSheets?(a=i.map(function(e){return e.textContent}).join("\n"),s=null,a.trim().length>0&&(C.has(a)?s=C.get(a):((s=new CSSStyleSheet).replaceSync(a),C.set(a,s))),this._root.adoptedStyleSheets=m(l.sharedStyleSheets||[]).concat(m(s?[s]:[])),i.forEach(function(e){return e.remove()})):i.forEach(function(e){!l.shadow&&("CSSScopeRule"in window?e.textContent="@scope { ".concat(e.textContent.replace(/:host/g,":scope")," }"):(n.setAttribute("data-scope",n._scopeId),e.textContent.includes(":host")&&(e.textContent=e.textContent.replace(/:host/g,"".concat(t,'[data-scope="').concat(n._scopeId,'"]')))))})),c=[],l.executeScripts?o.querySelectorAll("script").forEach(function(e){var t=document.createElement("script");Array.from(e.attributes).forEach(function(e){return t.setAttribute(e.name,e.value)}),t.textContent=e.textContent,c.push(t),e.remove()}):o.querySelectorAll("script").forEach(function(e){return e.remove()}),l.shadow||o.querySelectorAll("slot").forEach(function(e){var t=e.getAttribute("name")||"default",n=document.createElement("div");n.style.display="contents",n.setAttribute("data-acl-slot",t);var o=r?r[t]:null;if(o&&o.length>0)o.forEach(function(e){return n.appendChild(e)});else if(e.childNodes.length>0)for(;e.firstChild;)n.appendChild(e.firstChild);e.replaceWith(n)});o.firstChild;)1===(u=o.firstChild).nodeType&&(u.$props=this.$props),this._root.appendChild(u);return c.forEach(function(e){return n._root.appendChild(e)}),[2]})}).call(this)}},{key:"_setupEventForwarding",value:function(){var e=this;l.forwardEvents.forEach(function(t){e._root.addEventListener(t,function(n){e.dispatchEvent(new CustomEvent(t,{bubbles:!0,composed:!0,detail:n.detail}))})})}},{key:"_updateProp",value:function(e,n){if("data-src"!==e){var r,o=l.attributes[e],i=o&&o.type?o.type:o,a=!0===(o&&o.required),s=o&&o.validator?o.validator:null,c=o&&o.hasOwnProperty("default")?o.default:void 0;if(null==n){if(void 0!==c){this.$props[e]=c;return}a&&console.warn('[AlpineComponentLoader] Missing required prop "'.concat(e,'" on <').concat(t,">")),this._applyTypeDefault(e,i);return}if(i===Boolean)r=null!==n&&"false"!==n;else if(i===Number){var u=Number(n);r=isNaN(u)?0:u}else if(i===Object||i===Array)try{r=n?JSON.parse(n.replace(/'/g,'"')):i===Array?[]:{}}catch(t){console.warn('[AlpineComponentLoader] Attribute "'.concat(e,'" is invalid JSON:'),n),r=i===Array?[]:{}}else r=n;if(s&&"function"==typeof s&&!s(r)){console.warn('[AlpineComponentLoader] Validation failed for prop "'.concat(e,'" on <').concat(t,">. Value:"),r),void 0!==c?this.$props[e]=c:void 0===this.$props[e]&&this._applyTypeDefault(e,i);return}this.$props[e]=r}}},{key:"_applyTypeDefault",value:function(e,t){t===Number?this.$props[e]=0:t===Boolean?this.$props[e]=!1:t===Array?this.$props[e]=[]:t===Object?this.$props[e]={}:this.$props[e]=""}},{key:"_syncAllAttributes",value:function(){var e=this;c.forEach(function(t){return e._updateProp(t,e.getAttribute(t))})}},{key:"_initPersistence",value:function(){var e=this,t=this.getAttribute("persist")||l.persist;if(t){var n="local"===t?localStorage:sessionStorage,r=this.getAttribute("persist-key")||l.persistKey||"acl:".concat(this.localName,":").concat(this.id?":"+this.id:"no-id"),o=parseInt(this.getAttribute("persist-debounce")||l.persistDebounce||"250",10),i=null,a=function(){return Object.fromEntries(Object.entries(e.$props).filter(function(e){var t=b(e,2),n=t[0],r=t[1];return!n.startsWith("$")&&"function"!=typeof r}))},s=function(e){i&&clearTimeout(i),i=null,n.setItem(r,JSON.stringify(e||a()))};this.$props.$persistence={$key:r,$save:function(e){o>0?(i&&clearTimeout(i),i=setTimeout(function(){return s(e)},o)):s(e)},$clear:function(){i&&clearTimeout(i),i=null,n.removeItem(r)},$get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var o=JSON.parse(n.getItem(r));return(e?o[e]:o)||t}catch(e){return t}},$flush:function(){i&&s()}};try{var c=this.$props.$persistence.$get();if(c&&(void 0===c?"undefined":y(c))==="object")for(var u in this.$props)Object.prototype.hasOwnProperty.call(c,u)&&(this.$props[u]=c[u])}catch(e){console.warn("[AlpineComponentLoader] Restore failed for ".concat(r),e)}Alpine.effect(function(){return e.$props.$persistence.$save(a())}),o>0&&window.addEventListener("beforeunload",function(){return e.$props.$persistence.$flush()})}}},{key:"_initAlpine",value:function(){return n(function(){var e;return w(this,function(t){return(e=this,window.Alpine)?[2,this._finishAlpineInit()]:[2,new Promise(function(t,n){document.addEventListener("alpine:init",function(){e._finishAlpineInit(),t()},{once:!0}),setTimeout(function(){window.Alpine?(e._finishAlpineInit(),t()):n(Error("Alpine.js not found (Timeout)"))},5e3)})]})}).call(this)}},{key:"_finishAlpineInit",value:function(){var e=this,n=this.getAttribute("bind-store")||l.bindStore;if(n){var r=Alpine.store(n);r?(this.$props&&"object"===y(this.$props)&&Object.keys(this.$props).filter(function(e){return void 0===r[e]}).forEach(function(t){return r[t]=e.$props[t]}),this.$props=r):(console.error('[AlpineComponentLoader] Store "'.concat(n,'" not found. Falling back to local state.')),this.$props=window.Alpine.reactive(this.$props||{}))}else this.$props=window.Alpine.reactive(this.$props||{});this._initPersistence(),Alpine.store("props_".concat(t,"_").concat(Math.random().toString(36).slice(2)),this.$props),this._root&&this._root.children&&Array.from(this._root.children).forEach(function(t){1===t.nodeType&&(t.$props=e.$props)}),window.Alpine.nextTick(function(){e._root&&window.Alpine.initTree(e._root)})}},{key:"_renderError",value:function(e){var n=document.createElement("div");n.style.cssText=O(l.errorCss);var r=document.createElement("strong");r.textContent="Load Failed: <".concat(t,">");var o=document.createElement("code");o.textContent=e,o.style.display="block",o.style.marginTop="4px",n.appendChild(r),n.appendChild(o),l.shadow?this._root.replaceChildren(n):this._root.appendChild(n)}},{key:"_dispatch",value:function(e){this.dispatchEvent(new CustomEvent(e,{bubbles:!0,composed:!0,detail:{props:this.$props}}))}},{key:"_resolveContent",value:function(e){return n(function(){var t,n,r,o,i,a,s,c,u;return w(this,function(h){switch(h.label){case 0:if(d(e,HTMLTemplateElement))return[2,e.content];if("string"==typeof e&&e.startsWith("#")){if(!(t=document.querySelector(e)))return[2,Promise.reject(Error('Template ID "'.concat(e,'" not found')))];if(!d(t,HTMLTemplateElement))return[2,Promise.reject(Error('ID "'.concat(e,'" is not a <template>')))];return[2,t.content]}if(n=l.cacheTemplates&&"caches"in window,r="acl__fetched-at__",!n)return[3,7];h.label=1;case 1:return h.trys.push([1,6,,7]),[4,caches.open(l._templateCacheKey)];case 2:return[4,(o=h.sent()).match(e)];case 3:if(!(null==(i=h.sent())?void 0:i.ok))return[3,5];if(!Number.isNaN(a=Number(i.headers.get(r)))&&Date.now()-a<l._templateCacheExpire)return[2,i.text()];return[4,o.delete(l._templateCacheKey)];case 4:h.sent(),h.label=5;case 5:return[3,7];case 6:return h.sent(),[3,7];case 7:return[4,fetch(e,{cache:"no-store"})];case 8:if(!(s=h.sent()).ok)throw Error("HTTP ".concat(s.status));if(!n)return[3,12];h.label=9;case 9:return h.trys.push([9,11,,12]),(u=new Headers((c=s.clone()).headers)).set(r,Date.now().toString()),[4,o.put(e,new Response(c.body,{status:c.status,statusText:c.statusText,headers:u}))];case 10:case 11:return h.sent(),[3,12];case 12:return[2,s.text()]}})})()}},{key:"_pruneCache",value:function(){return n(function(){return w(this,function(t){switch(t.label){case 0:return[4,e.pruneCache(l._templateCachePrefix,l._templateCacheKey)];case 1:return[2,t.sent()]}})})()}},{key:"_clearCache",value:function(){return n(function(){return w(this,function(t){switch(t.label){case 0:return[4,e.clearCache(l._templateCacheKey)];case 1:return[2,t.sent()]}})})()}}],[{key:"observedAttributes",get:function(){return c}}]),a}(g(HTMLElement));customElements.define(t,v)}}]),e}();l(T,"_started",!1),l(T,"globalConfig",{debug:!1,basePath:"",errorCss:{},shadow:!1,useConstructibleStyles:!0,sharedStyleSheets:[],executeScripts:!0,stripStyles:!1,forwardEvents:[],externalCss:[],externalScripts:[],defaultComponentName:"acl-component",defaultDynamicName:"acl-dynamic",cacheTemplates:!0,_templateCacheVersion:"0.0.1",_templateCachePrefix:"alpine-component-loader-",_templateCacheKey:"alpine-component-loader-0.0.1",_templateCacheExpire:9e5});var $=/*#__PURE__*/function(e){function t(){return o(this,t),r(this,t,arguments)}return u(t,e),s(t,[{key:"connectedCallback",value:function(){return n(function(){var e,t,n,r,o,i,a,s,l,c,u,d,h,p,f,b,m,y;return w(this,function(v){if(!(e=this.getAttribute("src")||this.getAttribute("url")))return console.error("<".concat(this.localName,'>: missing "src" attribute')),[2];if((t=this.getAttribute("tag"))||(t=e.split("/").pop().split(".").shift()),!t.includes("-"))return console.error("<".concat(this.localName,'>: Tag name "').concat(t,'" must contain a hyphen.')),[2];if(n={shadow:this.hasAttribute("shadow")?"false"!==this.getAttribute("shadow"):T.globalConfig.shadow,loading:this.getAttribute("loading")||"eager",dataSrc:this.getAttribute("data-src")||null,bindStore:this.getAttribute("bind-store")||null,fallback:this.getAttribute("fallback")||null,attributes:{}},!customElements.get(t)){r=!0,o=!1,i=void 0;try{for(a=this.attributes[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)l=s.value,["src","url","tag","shadow","loading","class","style","id","data-src","bind-store","fallback"].includes(l.name)||(c=l.value.trim(),u=String,c.startsWith("[")||c.startsWith("{")?u=c.startsWith("[")?Array:Object:"true"===c||"false"===c||""===c?u=Boolean:isNaN(Number(c))||(u=Number),n.attributes[l.name]=u)}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}T.define(t,e,n)}d=document.createElement(t),h=!0,p=!1,f=void 0;try{for(b=this.attributes[Symbol.iterator]();!(h=(m=b.next()).done);h=!0)y=m.value,["src","url","tag","shadow"].includes(y.name)||d.setAttribute(y.name,y.value)}catch(e){p=!0,f=e}finally{try{h||null==b.return||b.return()}finally{if(p)throw f}}for(;this.firstChild;)d.appendChild(this.firstChild);return this.replaceWith(d),[2]})}).call(this)}}]),t}(g(HTMLElement)),j=/*#__PURE__*/function(e){function t(){var e;return o(this,t),(e=r(this,t))._cache=new Map,e}return u(t,e),s(t,[{key:"attributeChangedCallback",value:function(e,t,n){"is"===e&&n&&n!==t&&this._switch(n)}},{key:"connectedCallback",value:function(){this.setAttribute("data-acl-component","acl-dynamic"),!this.firstElementChild&&this.getAttribute("is")&&this._switch(this.getAttribute("is"))}},{key:"disconnectedCallback",value:function(){this._cache.forEach(function(e){e._root&&window.Alpine&&window.Alpine.destroyTree(e._root)}),this._cache.clear()}},{key:"_switch",value:function(e){if(e){e=e.toLowerCase();var t=this.hasAttribute("keep-alive"),n=this.firstElementChild;if(n&&t?(n._savedScroll=n.scrollTop,n._isKeptAlive=!0,this._cache.set(n.tagName.toLowerCase(),n),n.remove(),n._isKeptAlive=!1):(this.replaceChildren(),n&&!t&&this._cache.delete(n.tagName.toLowerCase())),t&&this._cache.has(e)){var r=this._cache.get(e);this.appendChild(r),r._savedScroll&&(r.scrollTop=r._savedScroll)}else try{var o=document.createElement(e);Array.from(this.attributes).forEach(function(e){["is","keep-alive"].includes(e.name)||o.setAttribute(e.name,e.value)}),this.appendChild(o)}catch(t){console.error("[AlpineComponentLoader] Failed to create: <".concat(e,">"),t)}}}}],[{key:"observedAttributes",get:function(){return["is"]}}]),t}(g(HTMLElement));try{"loading"===document.readyState?window.addEventListener("DOMContentLoaded",T.start,{once:!0}):T.start()}catch(e){console.warn("[AlpineComponentLoader] Failed to register components:",e)}export{T as default};

//# sourceMappingURL=AlpineComponentLoader.min.js.map